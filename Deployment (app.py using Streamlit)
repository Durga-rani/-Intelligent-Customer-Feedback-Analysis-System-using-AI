import streamlit as st
import pandas as pd
from transformers import pipeline

st.title("Customer Feedback Analyzer")

uploaded_file = st.file_uploader("Upload CSV", type="csv")
if uploaded_file:
    df = pd.read_csv(uploaded_file)
    st.write("Uploaded Data", df.head())

    sentiment_analyzer = pipeline("sentiment-analysis")
    summarizer = pipeline("summarization", model="facebook/bart-large-cnn")

    if st.button("Analyze"):
        df['Sentiment'] = df['feedback'].apply(lambda x: sentiment_analyzer(x)[0]['label'])
        df['Summary'] = df['feedback'].apply(lambda x: summarizer(x, max_length=50, min_length=25, do_sample=False)[0]['summary_text'])
        st.write(df[['feedback', 'Sentiment', 'Summary']])
